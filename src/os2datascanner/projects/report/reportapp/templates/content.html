{%  load i18n %}
{% load l10n %}

<h1 class="page-title">{% trans "Results" %}</h1>

        {{ page_obj.paginator.count }} {% trans "results" %}
        {% if distributable_matches %}
        <div id="distribute-container" class="distribute dropdown" name="distribute-container"
             hx-get="" hx-trigger="reload-htmx from:body" 
             hx-swap="innerHTML" hx-target=".content"
        >
          <label class="block-label" for="distribute-to">{% trans "Distribute matches to users from" %}</label>
          <select id="distribute-to" name="distribute-to" multiple>
            {% for scan in undistributed_scannerjobs %}
            {% comment %} Check here for scannerjobs with the "only notify superadmin"-setting {% endcomment %}
              <option value="{{ scan.scanner_job_pk|unlocalize }}">
                  {{ scan.scanner_job_name }} ({{ scan.total }})
              </option>
               {% endfor %}
          </select>
          <button class="button button--cta" id="distribute-matches" 
                  name="distribute-matches" disabled
                  hx-confirm="{% trans "Are you sure you want to distribute matches to the users? This action cannot be reverted." %}"
                  hx-target="this" hx-trigger="click" hx-swap="afterend" 
                  hx-post="" hx-include="[name='distribute-to']"
          > {% trans "Distribute" %} </button>
        </div>
        {% endif %}

        {% include "components/filters.html" %}

        {% if page_obj.paginator.count == 0 %}
          <p class="no-results">
            {% trans "No results were found" %}
          </p>
        {% else %}
          {% include "components/hits.html" %}
        {% endif %}

<script>
 
</script>